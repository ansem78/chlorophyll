@use '../helpers';
@use './animations';

@if helpers.module-enabled('animate') {

  $animate-repeat: helpers.get-config('animate-repeat');
  $animate-delay: helpers.get-config('animate-delay');
  $animate-duration: helpers.get-config('animate-duration');
  $durations: helpers.get-config('animate-durations');

  .a-init {
    animation-iteration-count: $animate-repeat;
    animation-delay: $animate-delay;
    animation-duration: $animate-duration;
    animation-fill-mode: both;
    animation-direction: normal;
    animation-play-state: running;
  }

  .a-normal {
    animation-direction: normal;
  }

  .a-reverse {
    animation-direction: reverse;
  }

  .a-alternate {
    animation-direction: alternate;
  }

  .a-alternate-reverse {
    animation-direction: alternate-reverse;
  }

  .a-play {
    animation-play-state: running;
  }

  .a-pause {
    animation-play-state: paused;
  }

  .a-infinite {
    animation-iteration-count: infinite;
  }

  @for $n from 1 through 5 {

    .a-repeat-#{$n} {
      animation-iteration-count: #{$animate-repeat * $n};
    }

  }

  @for $n from 1 through 5 {

    .a-delay-#{$n} {
      animation-delay: #{$animate-delay * $n};
    }

  }

  @each $key, $duration in $durations {

    .a-duration-#{$key} {
      animation-duration: $duration;
    }

  }

  @media print, (prefers-reduced-motion: reduce) {

    .a-init {
      animation-duration: 1ms !important;
      transition-duration: 1ms !important;
      animation-iteration-count: 1 !important;
    }

    .a-init[class*=out] {
      opacity: 0;
    }

  }

}
